{% raw %}
<!--
  TEMPLATE RELATIONSHIP & PAGE FLOW
  =======================================================================
  base.html  ←  main/index.html
  base.html  ←  main/feature.html
  base.html  ←  auth/login.html

  Explanation:
  - base.html is the shared layout (shell) for the whole site.
  - Child templates extend base.html and fill the {% block content %} area.
  - The nav bar and flash messages live here so all pages get them.

  HOW NAVIGATION WORKS
  -----------------------------------------------------------------------
  Each <a> link below connects to a Flask route.
  Example:
      <a href="{{ url_for('main.index') }}">Home</a>
  When clicked:
      1. Flask uses url_for('main.index') to find the route decorated with @main_bp.route("/")
      2. That route (in main/routes.py) runs the index() function.
      3. The function renders main/index.html.
      4. index.html extends base.html, so Flask merges both templates and 
         sends the full page (layout + content) back to the browser.
  =======================================================================
-->
{% endraw %}

<!doctype html>
<html lang="en">
  <head>
    <!-- Character encoding (standard for modern webpages) -->
    <meta charset="utf-8">

    <!-- Responsive behavior on phones (prevents tiny, zoomed-out pages) -->
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!--
      <title> is NOT shown on the page body.
      It shows in the BROWSER TAB (and bookmarks/search results).
      Child pages can override this with:
        {% block title %}Home — TMJ{% endblock %}
      If they don't, the default below ("TMJ — Track My Journey") is used.
    -->
    <title>{% block title %}TMJ — Track My Journey{% endblock %}</title>

    <!-- Link to your shared CSS file in /app/static/styles.css -->
    <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
  </head>

  <body>
    <!--
      Site-wide navigation.
      These links appear horizontally at the top of every page because
      this <nav> section is the first element inside <body>.
      Browsers naturally render inline <a> elements side-by-side.
      url_for('blueprint.endpoint') generates the correct URLs:
        - main.index   -> /
        - main.feature -> /feature
        - auth.login   -> /auth/login
    -->
    <nav class="nav">
      <a href="{{ url_for('main.index') }}">Home</a>
      <a href="{{ url_for('main.feature') }}">Feature</a>
      <a href="{{ url_for('auth.login') }}">Login</a>
    </nav>

    <!--
      Flash message area:
      -----------------------------------------------------------------
      Purpose:
        Displays any messages "flashed" from Flask routes.
        Example:
            flash("Login not implemented yet!")
            return redirect(url_for("main.index"))

      How it works:
        1. flash("message") stores the text temporarily in the session.
        2. When the next page loads, get_flashed_messages() retrieves it.
        3. The {% for m in messages %} loop shows each message on screen.
        4. After displaying, the message disappears automatically.

      Benefit:
        Because this block lives in base.html, all pages (home, feature,
        login) can show feedback messages without repeating code.
      -----------------------------------------------------------------
    -->
    {% with messages = get_flashed_messages() %}
      {% if messages %}
        <ul class="flashes">
          {% for m in messages %}
            <li>{{ m }}</li>
          {% endfor %}
        </ul>
      {% endif %}
    {% endwith %}

    <!--
      Main content block:
      - Child templates (index.html, feature.html, login.html) override this
        with: {% block content %} ... {% endblock %}
      - Keeps layout consistent while letting each page provide its own content.
    -->
    <main>
      {% block content %}{% endblock %}
    </main>
  </body>
</html>
